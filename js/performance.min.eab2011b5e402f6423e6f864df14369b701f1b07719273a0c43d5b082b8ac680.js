(function(){"use strict";function t(){if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.classList.add("loaded"),t.unobserve(n)}})});document.querySelectorAll('img[loading="lazy"]').forEach(t=>{e.observe(t)})}}function n(){if("fonts"in document){const e=[];e.forEach(e=>{document.fonts.load(e).catch(()=>{})})}}function s(){if("PerformanceObserver"in window){const e=new PerformanceObserver(e=>{const t=e.getEntries(),n=t[t.length-1];console.log("LCP:",n.startTime)});try{e.observe({entryTypes:["largest-contentful-paint"]})}catch{}const t=new PerformanceObserver(e=>{let t=0;for(const n of e.getEntries())n.hadRecentInput||(t+=n.value);t>0&&console.log("CLS:",t)});try{t.observe({entryTypes:["layout-shift"]})}catch{}}}function o(){const t=document.querySelectorAll("script[data-defer]");function e(){t.forEach(e=>{const t=document.createElement("script");t.src=e.dataset.src,t.async=!0,document.head.appendChild(t)})}document.readyState==="complete"?e():window.addEventListener("load",e)}function i(){let e=!1;function n(){if(e)return;e=!0,requestAnimationFrame(()=>{e=!1})}let t;window.addEventListener("scroll",()=>{t&&clearTimeout(t),t=setTimeout(n,16)},{passive:!0})}function e(){const e=window.requestIdleCallback||(e=>setTimeout(e,1));t(),i(),e(()=>{n(),s(),o()})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()})()